<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>vue的生命周期的钩子函数</title>
		<!--<-- 最新版本的 Bootstrap 核心 CSS 文件 -->
		<link rel="stylesheet" href="../script/bootstrap.min.css">
		
		<!--<script src="https://cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script>	
		<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
		<!--<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>-->

	    <style type="text/css">
	    	body{font-size: 16px;}
	    </style>
	</head>
	<body>
		<div id="app" class="container" style="padding-top: 15px;">
			<h3 class="text-info">Vue的生命周期和子组件的生命周期</h3>
			
			{{name}}
			<div class="btn-group">
				<button class="btn btn-info" @click="updateDom">触发updete钩子函数</button>				
			</div>
			<div class="btn-group">
				<button class="btn btn-danger" @click="destory">销毁Vue实例对象</button>				
			</div>

			<child></child>
			<br />
			<br />
			<div>
				<p class="text-warning">Vue的钩子函数的执行顺序</p>
				<p class="text-success">Vue实例的beforeCreate</p>
				<p class="text-success">Vue实例的created</p>
				<p class="text-success">Vue实例的beforeMount</p>
				<p class="text-primary">子组件的beforeCreate</p>
				<p class="text-primary">子组件的created</p>
				<p class="text-primary">子组件的beforeMount</p>
				<p class="text-primary">子组件的mounted</p>
				<p class="text-success">Vue实例的mounted</p>
				
				<div id="" :hidden="isupdate">
					<p class="text-success">Vue实例的beforeUpdate</p>
					<p class="text-success">Vue实例的updated</p>
				</div>
				
				<div id="" :hidden="isdestory">
					<p class="text-success">Vue实例的beforeDestroy</p>
					<p class="text-success">Vue实例的destroyed</p>
				</div>
			</div>
		</div>
		
		
	</body>
	<script src="../script/vue.js"></script>
	<script type="text/javascript">
        
        var child = {
				template:"<div>Vue的子组件</div>",
				beforeCreate:function(){
					console.log("子组件的beforeCreate")
				},
				created:function(){
					console.log("子组件的created")
				},
				beforeMount: function(){
					console.log("子组件的beforeMount")
				},
				mounted:function(){
					console.log("子组件的mounted")
				}
			}	
        
		var vm = new Vue({
			el:"#app",
			data:{
				name:"Vue的实例对象",
				isupdate: true,
				isdestory: true
			},
			components:{
				child: child
			},
			methods:{
				//销毁组件实例对象
				destory:function(){
					this.isdestory = false;
					setTimeout(function(){
						this.$destroy();
					}.bind(this),1000)
				},
				updateDom:function(){
					this.isupdate = false;
					this.name = "hello word"
				}
			},
			beforeCreate:function(){
				console.log("Vue实例的beforeCreate")
			},
			created:function(){
				console.log("Vue实例的created")
			},
			beforeMount: function(){
				console.log("Vue实例的beforeMount")
			},
			mounted:function(){
				console.log("Vue实例的mounted")
			},
			beforeUpdate:function(){
				console.log("Vue实例的beforeUpdate")
			},
			updated:function(){
				console.log("Vue实例的updated")
			},
			beforeDestroy:function(){
				console.log("Vue实例的beforeDestroy")
			},
			destroyed:function(){
				console.log("Vue实例的destroyed")
			}
		})
		

	</script>
</html>
